/*
 * based off of Louis-Rémi Babé rotate plugin (https://github.com/lrbabe/jquery.rotate.js)
 *
 * cssTransforms: jQuery cssHooks adding a cross browser, animatible transforms
 *
 * Author Bobby Schultz
*/
(function(b){function v(d){var c,e,a,g;b(d.style[b.cssProps.transform].replace(/(?:\,\s|\)|\()/g,"|").split(" ")).each(function(b,d){""!==d&&(void 0===c&&(c={}),e=d.split("|"),a=e.shift(),g=/.*[^XY]/.exec(a)[0],c[g]||(c[g]="     ".split(" ")),/Y/.test(a)||(c[g][0]=e[0]),/X/.test(a)||(c[g][1]=e[1]),6==e.length&&(c[g][2]=e[2],c[g][3]=e[3],c[g][4]=e[4],c[g][5]=e[5]))});return void 0!==c?c:null}function l(b){if("number"===typeof b)return parseFloat(b);if(-1!=b.indexOf("deg"))return parseInt(b,10)*(2*
Math.PI/360);if(-1!=b.indexOf("grad"))return parseInt(b,10)*(Math.PI/200)}function r(d,c){var e,a,g="matrixFilter"===b.cssProps.transformOrigin?!0:!1;e=[b.cssHooks.scaleX.get(d),l(b.cssHooks.skewY.get(d)),l(b.cssHooks.skewX.get(d)),b.cssHooks.scaleY.get(d),b.cssHooks.translateX.get(d),b.cssHooks.translateY.get(d)];if(g){d.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11=1,M12=0,M21=0,M22=1,SizingMethod='auto expand')";var h=b.cssHooks.transformOriginX.get(d),p=b.cssHooks.transformOriginY.get(d),
h=0<h.indexOf("%")?/[\d]*/.exec(h)/100:h,p=0<p.indexOf("%")?/[\d]*/.exec(p)/100:p,f=d.offsetWidth,w=d.offsetHeight}c="array"!==typeof c||6!==c.length?e:[e[0]*c[0]+e[1]*c[2],e[0]*c[1]+e[1]*c[3],e[2]*c[0]+e[3]*c[2],e[2]*c[1]+e[3]*c[3],c[4],c[5]];if(a=b.data(d,"rotate"))a=l(a),e=Math.cos(a),a=Math.sin(a),a=[e,-a,a,e],c=[c[0]*a[0]+c[1]*a[2],c[0]*a[1]+c[1]*a[3],c[2]*a[0]+c[3]*a[2],c[2]*a[1]+c[3]*a[3],c[4],c[5]];d.style.filter=["progid:DXImageTransform.Microsoft.Matrix(","M11="+c[0]+", ","M12="+c[1]+", ",
"M21="+c[2]+", ","M22="+c[3]+", ","SizingMethod='auto expand')"].join("");g&&(g=d.offsetWidth,e=d.offsetHeight,d.style.position="relative",d.style.left=h*(f-g)+(parseInt(c[4])||0),d.style.top=p*(w-e)+(parseInt(c[5])||0))}var a=document.createElement("div"),a=a.style;b.cssProps.transform=""===a.MozTransform?"MozTransform":""===a.msTransform?"msTransform":""===a.WebkitTransform?"WebkitTransform":""===a.OTransform?"OTransform":""===a.Transform?"Transform":!1;b.cssProps.transformOrigin=""===a.MozTransformOrigin?
"MozTransformOrigin":""===a.msTransformOrigin?"msTransformOrigin":""===a.WebkitTransformOrigin?"WebkitTransformOrigin":""===a.OTransformOrigin?"OTransformOrigin":""===a.TransformOrigin?"TransformOrigin":!1;b.support.transform=!1!==b.cssProps.transform||""===a.filter?!0:!1;b.support.transformOrigin=!1!==b.cssProps.transformOrigin?!0:!1;b.support.matrixFilter=""===a.filter&&!1===b.cssProps.transform?!0:!1;a=null;if(!1!==b.support.transform){b.cssNumber.skew=b.cssNumber.skewX=b.cssNumber.skewY=b.cssNumber.scale=
b.cssNumber.scaleX=b.cssNumber.scaleY=b.cssNumber.rotate=b.cssNumber.matrix=!0;b.cssNumber.transformOrigin=b.cssNumber.transformOriginX=b.cssNumber.transformOriginY=!0;b.support.matrixFilter&&(b.cssNumber.transformOrigin=b.cssNumber.transformOriginX=b.cssNumber.transformOriginY=!0,b.cssProps.transformOrigin="matrixFilter");b.cssHooks.transform={set:function(d,c,a){b.support.matrixFilter?d.style.filter=""+c:d.style[b.cssProps.transform]=c+"%"},get:function(d,c){return b.support.matrixFilter?d.style.filter:
d.style[b.cssProps.transform]}};b.cssHooks.transformOrigin={set:function(d,c,a){b.support.matrixFilter?(c=c.split(","),b.cssHooks.transformOriginX.set(d,c[0]),1<c.length&&b.cssHooks.transformOriginY.set(d,c[1])):d.style[b.cssProps.transformOrigin]="string"===typeof c?c:c+(a||"%")},get:function(d,c){if(b.support.matrixFilter){var a=b.data(d,"transformOriginX"),u=b.data(d,"transformOriginY");return a&&u&&a===u?a:"50%"}return d.style[b.cssProps.transformOrigin]}};b.fx.step.transformOrigin=function(d){b.cssHooks.transformOrigin.set(d.elem,
d.now,d.unit)};b.cssHooks.transformOriginX={set:function(d,c,a){b.support.matrixFilter?(b.data(d,"transformOriginX",a?c+a:c),r(d)):d.style[b.cssProps.transformOrigin+"X"]="string"===typeof c?c:c+(a||"%")},get:function(d,c){if(b.support.matrixFilter){var a=b.data(d,"transformOriginX");switch(a){case "left":return"0%";case "center":return"50%";case "right":return"100%"}return a?a:"50%"}return d.style[b.cssProps.transformOrigin+"X"]}};b.fx.step.transformOriginX=function(a){b.cssHooks.transformOriginX.set(a.elem,
a.now,a.unit)};b.cssHooks.transformOriginY={set:function(a,c,e){b.support.matrixFilter?(b.data(a,"transformOriginY",e?c+e:c),r(a)):a.style[b.cssProps.transformOrigin+"Y"]="string"===typeof c?c:c+(e||"%")},get:function(a,c){if(b.support.matrixFilter){var d=b.data(a,"transformOriginY");switch(d){case "top":return"0%";case "center":return"50%";case "bottom":return"100%"}return d?d:"50%"}return a.style[b.cssProps.transformOrigin+"Y"]}};b.fx.step.transformOriginY=function(a){b.cssHooks.transformOriginY.set(a.elem,
a.now,a.unit)};var a=function(b){return b},t=[["X","Y"],"X","Y"];jQuery.each([{prop:"rotate",matrix:[function(b){return Math.cos(b)},function(b){return-Math.sin(b)},function(b){return Math.sin(b)},function(b){return Math.cos(b)}],unit:"rad",subProps:[""],fnc:l},{prop:"scale",matrix:[[a,0,0,a],[a,0,0,1],[1,0,0,a]],unit:"",subProps:t,fnc:parseFloat,_default:1},{prop:"skew",matrix:[[1,a,a,1],[1,a,0,1],[1,0,a,1]],unit:"rad",subProps:t,fnc:l},{prop:"translate",matrix:[[1,0,0,1,a,a],[1,0,0,1,a,0],[1,0,
0,1,0,a]],standardUnit:"px",subProps:t,fnc:parseFloat},{prop:"matrix",matrix:[[a,a,a,a,a,a],[a,0,0,1,0,0],[1,a,0,1,0,0],[1,0,a,1,0,0],[1,0,0,a,0,0],[1,0,0,1,0,a]],subProps:["ABCDXY".split(""),"A","B","C","D","X","Y"],fnc:parseFloat}],function(a,c){jQuery.each(c.subProps,function(a,d){var e;b.isArray(d)?(e=c.prop,b.cssHooks[e]={set:function(a,c,f){jQuery.each(d,function(d,h){b.cssHooks[e+h].set(a,c,f)})},get:function(a,c){var f=[];jQuery.each(d,function(c,d){f.push(b.cssHooks[e+d].get(a,f))});return f[0]||
f[1]}}):(e=c.prop+d,b.cssHooks[e]={set:function(a,d,f){b.data(a,e,f?d+f:d);d=c.fnc(f?d+f:d);var h=e;f=c.unit||f||c.standardUnit;if(b.support.matrixFilter)r(a,d);else{var g=v(a),m=/[X|Y]/.exec(h),m=null===m?"":m[0]?m[0]:m,h=/.*[^XY]/.exec(h)[0];f=void 0===f?"":f;var k="",p=!1,n;if(null!==g)for(var l in g)if(n=g[l],h===l)"matrix"!==h?(k+=h+"(",k+="X"===m||""===m?d+f:""!==n[0]?n[0]:b.cssHooks[h+"X"].get(a)+f,k+="Y"===m?", "+d+f:""!==n[1]?", "+n[1]:h+"Y"in b.cssHooks?", "+b.cssHooks[h+"Y"].get(a)+f:"",
k+=") "):k+=d+" ",p=!0;else{for(var k=k+(l+"("),q=0;q<n.length;q++)if(k+=n[q],q<n.length-1&&""!==n[q+1])k+=", ";else break;k+=") "}p||(k+=h+m+"("+d+f+") ");a.style[b.cssProps.transform]=k}},get:function(a,d){var f=b.data(a,e);return f&&void 0!==f?f:c._default||0}});b.fx.step[e]=function(a){a.unit="px"===a.unit&&b.cssNumber[e]?c.standardUnit:a.unit;b.cssHooks[e].set(a.elem,a.now,a.unit)}})});b.rotate={radToDeg:function(a){return 180*a/Math.PI}}}})(jQuery);